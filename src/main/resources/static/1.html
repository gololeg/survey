<label for="avatar">Choose a profile picture:</label>

<input type="file" id="avatar" name="avatar" accept="image/png, image/jpeg" />

<img onclick="show()" src="data:image/jpg;base64,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"/>
<script>
const toBase64 = file => new Promise((resolve, reject) => { const reader = new FileReader(); reader.readAsDataURL(file); reader.onload = () => resolve(reader.result); reader.onerror = reject; });
function show(){

async function postData(url = "", data = {}) {
let src = await toBase64(avatar.files[0])
let fileBase64 = src.substring(src.indexOf("base64,")+7, src.length)
data= {"id":24,"name":"new2","image":fileBase64,"level":{"id":1,"name":"LOW"},"type":{"id":1,"name":"RADIO"},"answers":[{"id":23,"name":"name1","text":"text","value":"value","right":true},{"id":24,"name":"name2","text":"text","value":"value","right":true}]}
  // Default options are marked with *
  const response = await fetch(url, {
    method: "POST", // *GET, POST, PUT, DELETE, etc.
    mode: "cors", // no-cors, *cors, same-origin
    cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
    credentials: "same-origin", // include, *same-origin, omit
    headers: {
      "Content-Type": "application/json",
      // 'Content-Type': 'application/x-www-form-urlencoded',
    },
    redirect: "follow", // manual, *follow, error
    referrerPolicy: "no-referrer", // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
    body: JSON.stringify(data), // body data type must match "Content-Type" header
  });
  return response.json(); // parses JSON response into native JavaScript objects
}

postData("http://localhost:8080/api/v1/tasks", { "image": "avatar.value" }).then((data) => {
  console.log(data); // JSON data parsed by `data.json()` call
});
}
</script>